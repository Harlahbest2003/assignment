function faculty(theobj){var facultyOptionsArr=[];$.each(theobj,function(index,element){-1===$.inArray(element.faculty,facultyOptionsArr)&&facultyOptionsArr.push(element.faculty)}),$.each(facultyOptionsArr,function(i,val){$("#facultyFilter").append($("<option>").attr("value",val).text(this))}),$("#facultyFilter").prop("disabled",!1),$("#facultyFilter").focus(),$("#facultyFilter").change(function(){$("#programFilter").html('<option value="">Select a program</option>');var selected=$("#facultyFilter option:selected").val();program($.grep(theobj,function(element,i){return element.faculty==selected}))})}function program(theobj){$.each(theobj,function(index,element){var escText=element.title,escText=escText.replace("&apos;","'");$("#programFilter").append($("<option>").attr("value",element.link).text(escText))}),$("#programFilter").prop("disabled",!1),$("#programFilter").focus(),$("#programFilter").change(function(){var selected=$("#programFilter option:selected").val();$("#findButton").prop("disabled",!1),$("#findButton").focus(),$("#findButton").click(function(){return window.location.href="http://uoit.ca/programs/"+selected,!1})})}function populateField(theobj,elementFilter,theField){var uniqueOptions=[];$.each(theobj,function(index,element){-1===$.inArray(element.elementFilter,uniqueOptions)&&uniqueOptions.push(element.elementFilter)}),$.each(uniqueOptions,function(i,val){theField.append($("<option>").attr("value",val).text(this))}),theField.change(function(){var selected=theField.children("option:selected").val(),obj=$.grep(theobj,function(element,i){return elementFilter==selected});blah2(obj)})}if($(".program_finder").length){console.log("Load: [custom/uoit/programfinder.js] (v2.0)");var programs=$.getJSON("https://ontariotechu.ca/programs/index.json",{crossDomain:!0},function(data){if("undefined"==typeof programFinder_selectedLevel||null==programFinder_selectedLevel||""==programFinder_selectedLevel){var levelOptionsArr=[];$.each(data.programs.program,function(index,element){$.each(element.program_type,function(index,level){-1===$.inArray(level,levelOptionsArr)&&levelOptionsArr.push(level)})}),levelOptionsArr.move=function(from,to){this.splice(to,0,this.splice(from,1)[0])},$.each(levelOptionsArr,function(i,val){switch(val){case"Undergraduate":levelOptionsArr.move(i,0);break;case"Graduate":levelOptionsArr.move(i,1);break;case"Pathways Diploma-to-Degree":levelOptionsArr.move(i,2);break;case"Online":levelOptionsArr.move(i,3);break;case"Co-op or Internship":levelOptionsArr.move(i,4);break;case"Professional":levelOptionsArr.move(i,5)}}),$.each(levelOptionsArr,function(i,val){$("#degreeFilter").append($("<option>").attr("value",val).text(this))}),$("#degreeFilter").change(function(){$("#facultyFilter").html('<option value="">Select a faculty</option>'),$("#programFilter").html('<option value="">Select a program</option>');var selected=$("#degreeFilter option:selected").val();faculty($.grep(data.programs.program,function(element,i){return-1!=element.program_type.indexOf(selected)}))})}else{faculty($.grep(data.programs.program,function(element,i){return-1!=element.program_type.indexOf(programFinder_selectedLevel)}))}}).fail(function(){console.log("Error: unable to parse programs JSON string")});$(".home-modules .program_finder .heading").click(function(){$(window).width()>=1e3&&$(".home-modules .program-finder .content").slideToggle(300)})}